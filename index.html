
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JEE Mock Test - NTA Style</title>
<style>
    body { margin:0; font-family: Arial, sans-serif; background-color:#f4f4f4; }
    header {
        background-color: #005BAC;
        color: white;
        padding: 10px;
        text-align: center;
        font-size: 18px;
        font-weight: bold;
    }
    .container { display: flex; height: calc(100vh - 50px); }
    .left-panel {
        background-color: #f9f9f9;
        width: 20%;
        padding: 10px;
        border-right: 1px solid #ccc;
    }
    .question-panel {
        flex: 1;
        padding: 20px;
        background-color: white;
        overflow-y: auto;
    }
    .right-panel {
        background-color: #f9f9f9;
        width: 20%;
        padding: 10px;
        border-left: 1px solid #ccc;
    }
    .palette {
        display: grid;
        grid-template-columns: repeat(5, 40px);
        gap: 5px;
    }
    .palette button {
        width: 40px; height: 40px; border: none; color: white; cursor: pointer; border-radius: 4px;
    }
    .not-visited { background-color: gray; }
    .not-answered { background-color: red; }
    .answered { background-color: green; }
    .review { background-color: purple; }
    .options label { display: block; margin: 8px 0; }
    .controls button { margin-right: 5px; padding: 5px 10px; }
</style>
</head>
<body>

<header>JEE Main Mock Test - NTA Format</header>

<div class="container">
    <div class="left-panel">
        <h3>Candidate Details</h3>
        <p>Name: Candidate</p>
        <p>Roll No: 123456</p>
        <p>Subject: PCM</p>
        <hr>
        <h4>Sections</h4>
        <button onclick="jumpToSection('Physics')">Physics</button><br><br>
        <button onclick="jumpToSection('Chemistry')">Chemistry</button><br><br>
        <button onclick="jumpToSection('Mathematics')">Mathematics</button>
    </div>

    <div class="question-panel">
        <div id="timer" style="font-size:18px; color:red; font-weight:bold;"></div>
        <h2 id="question-title"></h2>
        <p id="question-text"></p>
        <div class="options" id="options"></div>
        <div class="controls">
            <button onclick="prevQuestion()">Previous</button>
            <button onclick="nextQuestion()">Next</button>
            <button onclick="markForReview()">Mark for Review</button>
            <button onclick="clearResponse()">Clear Response</button>
            <button onclick="submitTest()">Submit</button>
        </div>
    </div>

    <div class="right-panel">
        <h3>Question Palette</h3>
        <div class="palette" id="palette"></div>
    </div>
</div>

<script>
    const questions = [];
    const subjects = ["Physics", "Chemistry", "Mathematics"];
    subjects.forEach(subject => {
        for (let i=1; i<=25; i++) {
            questions.push({
                subject: subject,
                text: `${subject} Question ${i}: This is a placeholder question.`,
                options: ["Option A", "Option B", "Option C", "Option D"],
                answer: null,
                status: "not-visited"
            });
        }
    });

    let currentQuestionIndex = 0;
    const paletteDiv = document.getElementById("palette");

    function renderPalette(){
        paletteDiv.innerHTML = "";
        questions.forEach((q, index) => {
            const btn = document.createElement("button");
            btn.innerText = index+1;
            btn.className = q.status.replace(" ", "-");
            btn.onclick = () => { currentQuestionIndex = index; renderQuestion(); };
            paletteDiv.appendChild(btn);
        });
    }

    function renderQuestion(){
        const q = questions[currentQuestionIndex];
        if (q.status === "not-visited") q.status = "not-answered";
        document.getElementById("question-title").innerText = `${q.subject} - Q${currentQuestionIndex+1}`;
        document.getElementById("question-text").innerText = q.text;
        const optsDiv = document.getElementById("options");
        optsDiv.innerHTML = "";
        q.options.forEach((opt, idx) => {
            const lbl = document.createElement("label");
            const inp = document.createElement("input");
            inp.type = "radio"; inp.name = "option";
            inp.checked = (q.answer === idx);
            inp.onchange = () => { q.answer = idx; q.status = "answered"; renderPalette(); };
            lbl.appendChild(inp);
            lbl.appendChild(document.createTextNode(opt));
            optsDiv.appendChild(lbl);
        });
        renderPalette();
    }

    function prevQuestion(){ if (currentQuestionIndex > 0) { currentQuestionIndex--; renderQuestion(); } }
    function nextQuestion(){ if (currentQuestionIndex < questions.length-1) { currentQuestionIndex++; renderQuestion(); } }
    function markForReview(){ questions[currentQuestionIndex].status = "review"; renderPalette(); }
    function clearResponse(){ questions[currentQuestionIndex].answer = null; questions[currentQuestionIndex].status = "not-answered"; renderPalette(); }
    function jumpToSection(subject){
        const idx = questions.findIndex(q => q.subject === subject);
        if (idx !== -1) { currentQuestionIndex = idx; renderQuestion(); }
    }

    function submitTest(){
        if (confirm("Are you sure you want to submit?")) {
            let score = 0;
            questions.forEach(q => { if (q.answer !== null) score++; });
            alert(`You attempted ${score} out of ${questions.length} questions.`);
        }
    }

    // Timer 180 min
    let timeLeft = 180 * 60;
    function updateTimer(){
        const min = Math.floor(timeLeft / 60);
        const sec = timeLeft % 60;
        document.getElementById("timer").innerText = `Time left: ${min}:${sec.toString().padStart(2, "0")}`;
        if (timeLeft > 0) { timeLeft--; setTimeout(updateTimer, 1000); }
    }

    renderPalette();
    renderQuestion();
    updateTimer();
</script>

</body>
</html>
