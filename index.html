
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JEE Mock Test</title>
<style>
    body { font-family: Arial, sans-serif; margin: 0; display: flex; height: 100vh; }
    .left-panel { width: 70%; padding: 20px; border-right: 1px solid #ccc; }
    .right-panel { width: 30%; padding: 20px; background: #f9f9f9; overflow-y: auto; }
    .question { font-size: 1.2em; margin-bottom: 10px; }
    .options label { display: block; margin-bottom: 5px; }
    .palette { display: flex; flex-wrap: wrap; gap: 5px; }
    .palette button { width: 30px; height: 30px; border: none; cursor: pointer; }
    .answered { background: green; color: white; }
    .unanswered { background: red; color: white; }
    .review { background: orange; color: white; }
    .nav-buttons button { margin-right: 10px; }
    #timer { font-weight: bold; color: red; }
</style>
</head>
<body>

<div class="left-panel">
    <h2>JEE Mock Test</h2>
    <div>Time left: <span id="timer">180:00</span></div>
    <div id="question-container"></div>
    <div class="nav-buttons">
        <button onclick="prevQuestion()">Previous</button>
        <button onclick="nextQuestion()">Next</button>
        <button onclick="markForReview()">Mark for Review</button>
        <button onclick="clearResponse()">Clear Response</button>
        <button onclick="submitTest()">Submit</button>
    </div>
</div>

<div class="right-panel">
    <h3>Question Palette</h3>
    <div id="palette" class="palette"></div>
</div>

<script>
// Generate questions (2 from screenshot placeholders, rest as templates)
let questions = [];

// Physics (25)
for (let i = 1; i <= 25; i++) {
    questions.push({
        subject: "Physics",
        text: "Physics Question " + i + ": This is a placeholder question statement.",
        options: ["Option A", "Option B", "Option C", "Option D"],
        answer: null,
        markedForReview: false
    });
}

// Chemistry (25)
for (let i = 1; i <= 25; i++) {
    questions.push({
        subject: "Chemistry",
        text: "Chemistry Question " + i + ": This is a placeholder question statement.",
        options: ["Option A", "Option B", "Option C", "Option D"],
        answer: null,
        markedForReview: false
    });
}

// Math (25)
for (let i = 1; i <= 25; i++) {
    questions.push({
        subject: "Math",
        text: "Math Question " + i + ": This is a placeholder question statement.",
        options: ["Option A", "Option B", "Option C", "Option D"],
        answer: null,
        markedForReview: false
    });
}

let currentQuestionIndex = 0;
let timeLeft = 180 * 60; // 180 minutes

function renderQuestion() {
    let q = questions[currentQuestionIndex];
    let container = document.getElementById("question-container");
    container.innerHTML = `<div class='question'><b>${q.subject} - Q${currentQuestionIndex + 1}:</b> ${q.text}</div>`;
    let optionsHTML = "<div class='options'>";
    q.options.forEach((opt, idx) => {
        let checked = q.answer === idx ? "checked" : "";
        optionsHTML += `<label><input type='radio' name='option' value='${idx}' ${checked} onchange='selectOption(${idx})'> ${opt}</label>`;
    });
    optionsHTML += "</div>";
    container.innerHTML += optionsHTML;
    updatePalette();
}

function selectOption(idx) {
    questions[currentQuestionIndex].answer = idx;
    updatePalette();
}

function prevQuestion() {
    if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        renderQuestion();
    }
}

function nextQuestion() {
    if (currentQuestionIndex < questions.length - 1) {
        currentQuestionIndex++;
        renderQuestion();
    }
}

function markForReview() {
    questions[currentQuestionIndex].markedForReview = true;
    updatePalette();
}

function clearResponse() {
    questions[currentQuestionIndex].answer = null;
    updatePalette();
    renderQuestion();
}

function updatePalette() {
    let palette = document.getElementById("palette");
    palette.innerHTML = "";
    questions.forEach((q, i) => {
        let btn = document.createElement("button");
        btn.textContent = i + 1;
        if (q.markedForReview) {
            btn.className = "review";
        } else if (q.answer !== null) {
            btn.className = "answered";
        } else {
            btn.className = "unanswered";
        }
        btn.onclick = () => { currentQuestionIndex = i; renderQuestion(); };
        palette.appendChild(btn);
    });
}

function submitTest() {
    alert("Test submitted! Your responses have been recorded.");
}

function startTimer() {
    let timerEl = document.getElementById("timer");
    let timerInterval = setInterval(() => {
        let minutes = Math.floor(timeLeft / 60);
        let seconds = timeLeft % 60;
        timerEl.textContent = `${minutes}:${seconds < 10 ? "0" : ""}${seconds}`;
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            submitTest();
        }
        timeLeft--;
    }, 1000);
}

window.onload = function() {
    renderQuestion();
    startTimer();
};
</script>

</body>
</html>
